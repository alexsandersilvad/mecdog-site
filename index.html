<!DOCTYPE html>

<html lang="pt-BR">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>MecDog - Hamburgueria Artesanal</title>
<script src="https://cdn.tailwindcss.com"></script>
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet"/>
<script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#FF5F00',
                        dark: '#1A1A1A',
                    }
                }
            }
        }
    </script>
<style>
        .status-online {
            background-color: #4CAF50;
            animation: pulse 2s infinite;
        }
        .status-offline {
            background-color: #F44336;
        }
        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(76, 175, 80, 0.7); }
            70% { box-shadow: 0 0 0 10px rgba(76, 175, 80, 0); }
            100% { box-shadow: 0 0 0 0 rgba(76, 175, 80, 0); }
        }
        .admin-panel {
            display: none;
        }
        .promo-badge {
            position: absolute;
            top: -10px;
            right: -10px;
            transform: rotate(15deg);
        }
    </style>
</head>
<body class="bg-dark text-white font-sans">
<!-- Admin Login Modal -->
<div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden" id="adminLoginModal">
<div class="bg-dark p-8 rounded-lg border border-primary max-w-md w-full">
<h2 class="text-2xl font-bold text-primary mb-6 text-center">Acesso Admin</h2>
<div class="mb-4">
<label class="block text-gray-300 mb-2">Senha:</label>
<input class="w-full px-3 py-2 bg-gray-800 border border-gray-600 rounded focus:outline-none focus:border-primary" id="adminPassword" type="password"/>
</div>
<button class="w-full bg-primary hover:bg-orange-600 text-white font-bold py-2 px-4 rounded transition" onclick="checkAdminPassword()">
                Entrar
            </button>
<button class="mt-4 w-full bg-gray-600 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded transition" onclick="closeAdminLogin()">
                Cancelar
            </button>
</div>
</div>
<!-- Admin Panel -->
<div class="admin-panel fixed top-0 left-0 w-full bg-gray-900 z-40 p-4 shadow-lg" id="adminPanel" style="max-height: 90vh; overflow-y: auto;">
<div class="container mx-auto flex justify-between items-center">
<h2 class="text-xl font-bold text-primary">Painel Admin</h2>
<button class="bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded" onclick="logoutAdmin()">
                Sair <i class="fas fa-sign-out-alt ml-1"></i>
</button>
</div>
</div>
<!-- Header -->
<header class="bg-dark border-b border-primary sticky top-0 z-30">
<div class="container mx-auto px-4 py-4 flex justify-between items-center">
<div class="flex items-center">
<h1 class="text-3xl font-bold text-primary">Mec<span class="text-white">Dog</span></h1>
<div class="ml-4 w-3 h-3 rounded-full" id="statusIndicator"></div>
<span class="ml-2 text-sm" id="statusText"></span>
</div>
<button class="bg-primary hover:bg-orange-600 text-white px-4 py-2 rounded hidden" id="adminBtn" onclick="showAdminLogin()">
                Admin <i class="fas fa-lock ml-1"></i>
</button>
</div>
</header>
<!-- Hero Section -->
<section class="relative bg-gradient-to-r from-dark to-gray-900 py-20">
<div class="container mx-auto px-4 flex flex-col md:flex-row items-center">
<div class="md:w-1/2 mb-10 md:mb-0">
<h2 class="text-4xl md:text-5xl font-bold mb-4">Os melhores <span class="text-primary">burgers</span> da cidade</h2>
<p class="text-gray-300 mb-6 text-lg">Hambúrgueres artesanais feitos com ingredientes selecionados e muito sabor!</p>
<div class="bg-gray-800 p-4 rounded-lg inline-block" id="deliveryInfo">
<p class="text-primary font-semibold"><i class="fas fa-motorcycle mr-2"></i> Taxa de entrega: <span id="deliveryFee">R$ 5,00</span></p>
</div>
</div>
<div class="md:w-1/2 flex justify-center">
<img alt="Hambúrguer MecDog" class="rounded-lg shadow-2xl max-w-xs md:max-w-md border-2 border-primary" src="https://images.unsplash.com/photo-1568901346375-23c9450c58cd?ixlib=rb-4.0.3&amp;ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&amp;auto=format&amp;fit=crop&amp;w=600&amp;q=80"/>
</div>
</div>
</section>
<!-- Promo Banner -->
<div class="bg-primary text-dark py-3 px-4 hidden" id="promoBanner">
<div class="container mx-auto flex justify-between items-center">
<div class="flex items-center">
<i class="fas fa-fire text-2xl mr-3"></i>
<div>
<h3 class="font-bold text-lg" id="promoTitle">PROMOÇÃO DO DIA</h3>
<p class="text-sm" id="promoDescription">Leve 2 hambúrgueres e ganhe 10% de desconto!</p>
</div>
</div>
<span class="text-sm font-semibold" id="promoDate">Válido até: 31/12</span>
</div>
</div>
<!-- Menu Section -->
<section class="py-12 bg-gray-900">
<div class="container mx-auto px-4">
<h2 class="text-3xl font-bold mb-8 text-center">Cardápio</h2>
<div class="flex justify-center mb-8 overflow-x-auto" id="menuCategories">
<button class="category-btn active px-4 py-2 mx-1 bg-primary rounded-full" data-category="all">Todos</button>
<button class="category-btn px-4 py-2 mx-1 bg-gray-700 hover:bg-gray-600 rounded-full" data-category="burgers">Hambúrgueres</button>
<button class="category-btn px-4 py-2 mx-1 bg-gray-700 hover:bg-gray-600 rounded-full" data-category="combos">Combos</button>
<button class="category-btn px-4 py-2 mx-1 bg-gray-700 hover:bg-gray-600 rounded-full" data-category="drinks">Bebidas</button>
<button class="category-btn px-4 py-2 mx-1 bg-gray-700 hover:bg-gray-600 rounded-full" data-category="extras">Acompanhamentos</button>
</div>
<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6" id="menuItems">
<!-- Items will be loaded here -->
</div>
</div>
</section>
<!-- Cart Sidebar -->
<div class="fixed top-0 right-0 h-full w-full md:w-96 bg-gray-800 shadow-lg transform translate-x-full transition-transform duration-300 z-40 overflow-y-auto" id="cartSidebar">
<div class="p-4">
<div class="flex justify-between items-center mb-6">
<h3 class="text-xl font-bold">Seu Pedido</h3>
<button class="text-gray-400 hover:text-white" onclick="closeCart()">
<i class="fas fa-times text-2xl"></i>
</button>
</div>
<div class="mb-4" id="cartItems">
<!-- Cart items will be loaded here -->
<p class="text-gray-400 text-center py-10" id="emptyCartMessage">Seu carrinho está vazio</p>
</div>
<div class="border-t border-gray-700 pt-4">
<div class="flex justify-between mb-2">
<span>Subtotal:</span>
<span id="subtotal">R$ 0,00</span>
</div>
<div class="flex justify-between mb-2">
<span>Taxa de entrega:</span>
<span id="cartDeliveryFee">R$ 5,00</span>
</div>
<div class="flex justify-between font-bold text-lg">
<span>Total:</span>
<span id="total">R$ 5,00</span>
</div>
<div class="mt-6 hidden" id="customerInfo">
<h4 class="font-bold mb-2">Informações para entrega</h4>
<div class="mb-3">
<label class="block text-gray-300 mb-1">Nome:</label>
<input class="w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded focus:outline-none focus:border-primary" id="customerName" type="text"/>
</div>
<div class="mb-3">
<label class="block text-gray-300 mb-1">Endereço:</label>
<input class="w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded focus:outline-none focus:border-primary" id="customerAddress" type="text"/>
</div>
<div class="mb-3">
<label class="block text-gray-300 mb-1">Telefone:</label>
<input class="w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded focus:outline-none focus:border-primary" id="customerPhone" type="tel"/>
</div>
<div class="mb-3">
<label class="block text-gray-300 mb-1">Forma de Pagamento:</label>
<select class="w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded focus:outline-none focus:border-primary" id="paymentMethod">
<option value="Dinheiro">Dinheiro</option>
<option value="Pix">Pix</option>
<option value="Cartão (crédito)">Cartão (crédito)</option>
<option value="Cartão (débito)">Cartão (débito)</option>
</select>
</div>
<div class="mb-3 hidden" id="changeField">
<label class="block text-gray-300 mb-1">Troco para:</label>
<input class="w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded focus:outline-none focus:border-primary" id="changeFor" placeholder="R$ 0,00" type="text"/>
</div>
</div>
<button class="w-full mt-6 bg-primary hover:bg-orange-600 text-white font-bold py-3 px-4 rounded transition" id="checkoutBtn" onclick="checkout()">
                    Finalizar Pedido
                </button>
<button class="w-full mt-3 bg-gray-700 hover:bg-gray-600 text-white font-bold py-3 px-4 rounded transition hidden" id="continueOrderBtn" onclick="continueOrder()">
                    Continuar Pedindo
                </button>
</div>
</div>
</div>
<!-- Cart Button -->
<button class="fixed bottom-6 right-6 bg-primary hover:bg-orange-600 text-white rounded-full p-4 shadow-lg z-30" id="cartButton" onclick="openCart()">
<i class="fas fa-shopping-cart text-xl"></i>
<span class="absolute -top-2 -right-2 bg-white text-dark rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold hidden" id="cartCount">0</span>
</button>
<!-- Overlay -->
<div class="fixed inset-0 bg-black bg-opacity-50 z-30 hidden" id="overlay"></div>
<!-- Success Modal -->
<div class="fixed inset-0 flex items-center justify-center z-50 hidden" id="successModal">
<div class="bg-dark p-8 rounded-lg border border-primary max-w-md w-full text-center">
<div class="text-5xl text-primary mb-4">
<i class="fas fa-check-circle"></i>
</div>
<h3 class="text-2xl font-bold mb-2">Pedido Enviado!</h3>
<p class="mb-6">Seu pedido foi encaminhado para nosso WhatsApp. Em breve entraremos em contato para confirmar.</p>
<button class="bg-primary hover:bg-orange-600 text-white font-bold py-2 px-6 rounded" onclick="closeSuccessModal()">
                OK
            </button>
</div>
</div>
<script>
        // Store data
        let storeStatus = "online"; // online or offline
        let deliveryFee = 5.00;
        let currentPromo = null;
        let isAdminLoggedIn = false;
        
        // Menu items database
        let menuItems = [
            { id: 1, name: "MecDog Clássico", category: "burgers", price: 22.90, description: "Pão brioche, hambúrguer 180g, queijo cheddar, alface, tomate e molho especial", image: "https://images.unsplash.com/photo-1568901346375-23c9450c58cd?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&q=80" },
            { id: 2, name: "MecDog Bacon", category: "burgers", price: 26.90, description: "Pão brioche, hambúrguer 180g, queijo cheddar, bacon crocante, cebola caramelizada e molho barbecue", image: "https://images.unsplash.com/photo-1550547660-9455f5031a47?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&q=80" },
            { id: 3, name: "MecDog Duplo", category: "burgers", price: 32.90, description: "Pão brioche, 2 hambúrgueres 180g, queijo cheddar, picles, cebola roxa e molho especial", image: "https://images.unsplash.com/photo-1586190848861-99aa4a171e90?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&q=80" },
            { id: 4, name: "MecDog Vegetariano", category: "burgers", price: 24.90, description: "Pão brioche, hambúrguer de grão-de-bico, queijo coalho, rúcula, tomate seco e molho de iogurte", image: "https://images.unsplash.com/photo-1512621776951-a57141f2eefd?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&q=80" },
            { id: 5, name: "Combo Clássico", category: "combos", price: 30.90, description: "MecDog Clássico + Batata frita + Refrigerante 350ml", image: "https://images.unsplash.com/photo-1547584370-2c9651c616a3?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&q=80" },
            { id: 6, name: "Combo Bacon", category: "combos", price: 36.90, description: "MecDog Bacon + Batata frita + Refrigerante 350ml", image: "https://images.unsplash.com/photo-1547584370-2c9651c616a3?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&q=80" },
            { id: 7, name: "Batata Frita", category: "extras", price: 12.90, description: "Porção de batata frita crocante com molho especial", image: "https://images.unsplash.com/photo-1581093450021-53775df2bddf?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&q=80" },
            { id: 8, name: "Onion Rings", category: "extras", price: 14.90, description: "Porção de anéis de cebola empanados", image: "https://images.unsplash.com/photo-1633790900005-5c7c0a0b0b0b?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&q=80" },
            { id: 9, name: "Refrigerante 350ml", category: "drinks", price: 6.90, description: "Coca-Cola, Guaraná, Fanta ou Sprite", image: "https://images.unsplash.com/photo-1554866585-cd94860890f7?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&q=80" },
            { id: 10, name: "Suco Natural 500ml", category: "drinks", price: 8.90, description: "Laranja, Maracujá ou Limão", image: "https://images.unsplash.com/photo-1603569283847-aa6f53c1cd50?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&q=80" }
        ];
        
        // Promotions database
        let promotions = [
            { id: 1, title: "Segunda do Burger", description: "Toda segunda-feira, hambúrgueres com 15% de desconto!", activeDays: [1], active: false },
            { id: 2, title: "Combo Quente", description: "Combo Bacon por apenas R$ 32,90 (economize R$ 4,00)", activeDays: [3,4,5], active: false, discount: 4.00, applyTo: 6 },
            { id: 3, title: "Fim de Semana Feliz", description: "Aos sábados e domingos, ganhe um refrigerante grátis em pedidos acima de R$ 50,00", activeDays: [6,0], active: false }
        ];
        
        // Cart items
        let cart = [];
        
        // Initialize the app
        document.addEventListener('DOMContentLoaded', function() {
            updateStatusDisplay();
            loadMenuItems();
            checkForPromotions();
            checkAdminStatus();
            
            // Load cart from localStorage if exists
            const savedCart = localStorage.getItem('mecdogCart');
            if (savedCart) {
                cart = JSON.parse(savedCart);
                updateCartCount();
            }
            
            // Load store status from localStorage if exists
            const savedStatus = localStorage.getItem('mecdogStatus');
            if (savedStatus) {
                storeStatus = savedStatus;
                updateStatusDisplay();
            }
            
            // Load delivery fee from localStorage if exists
            const savedDeliveryFee = localStorage.getItem('mecdogDeliveryFee');
            if (savedDeliveryFee) {
                deliveryFee = parseFloat(savedDeliveryFee);
                document.getElementById('deliveryFee').textContent = `R$ ${deliveryFee.toFixed(2)}`;
                document.getElementById('cartDeliveryFee').textContent = `R$ ${deliveryFee.toFixed(2)}`;
            }
            
            // Load promotions from localStorage if exists
            const savedPromotions = localStorage.getItem('mecdogPromotions');
            if (savedPromotions) {
                promotions = JSON.parse(savedPromotions);
                checkForPromotions();
            }
            
            // Load menu items from localStorage if exists
            const savedMenuItems = localStorage.getItem('mecdogMenuItems');
            if (savedMenuItems) {
                menuItems = JSON.parse(savedMenuItems);
                loadMenuItems();
            }
            
            // Category filter buttons
            document.querySelectorAll('.category-btn').forEach(button => {
                button.addEventListener('click', function() {
                    document.querySelectorAll('.category-btn').forEach(btn => {
                        btn.classList.remove('active', 'bg-primary');
                        btn.classList.add('bg-gray-700');
                    });
                    
                    this.classList.add('active', 'bg-primary');
                    this.classList.remove('bg-gray-700');
                    
                    const category = this.getAttribute('data-category');
                    filterMenuItems(category);
                });
            });
            
            // Payment method change
            document.getElementById('paymentMethod').addEventListener('change', function() {
                if (this.value === 'Dinheiro') {
                    document.getElementById('changeField').classList.remove('hidden');
                } else {
                    document.getElementById('changeField').classList.add('hidden');
                }
            });
        });
        
        // Check for active promotions based on day of week
        function checkForPromotions() {
            const today = new Date().getDay(); // 0 = Sunday, 1 = Monday, etc.
            currentPromo = null;
            
            // Reset all promotions to inactive
            promotions.forEach(promo => {
                promo.active = false;
            });
            
            // Check if any promotion is active today
            for (let promo of promotions) {
                if (promo.activeDays.includes(today)) {
                    promo.active = true;
                    currentPromo = promo;
                    break;
                }
            }
            
            updatePromoDisplay();
        }
        
        // Update promotion display
        function updatePromoDisplay() {
            const promoBanner = document.getElementById('promoBanner');
            
            if (currentPromo) {
                promoBanner.classList.remove('hidden');
                document.getElementById('promoTitle').textContent = currentPromo.title;
                document.getElementById('promoDescription').textContent = currentPromo.description;
                
                // Format active days
                const daysMap = ['Domingo', 'Segunda', 'Terça', 'Quarta', 'Quinta', 'Sexta', 'Sábado'];
                const activeDaysNames = currentPromo.activeDays.map(day => daysMap[day]).join(' e ');
                document.getElementById('promoDate').textContent = `Válido: ${activeDaysNames}`;
            } else {
                promoBanner.classList.add('hidden');
            }
        }
        
        // Update store status display
        function updateStatusDisplay() {
            const statusIndicator = document.getElementById('statusIndicator');
            const statusText = document.getElementById('statusText');
            
            if (storeStatus === "online") {
                statusIndicator.classList.add('status-online');
                statusIndicator.classList.remove('status-offline');
                statusText.textContent = "Aberto para pedidos";
                statusText.classList.remove('text-gray-400');
                statusText.classList.add('text-green-400');
            } else {
                statusIndicator.classList.add('status-offline');
                statusIndicator.classList.remove('status-online');
                statusText.textContent = "Fechado no momento";
                statusText.classList.remove('text-green-400');
                statusText.classList.add('text-gray-400');
            }
        }
        
        // Load menu items
        function loadMenuItems() {
            const menuContainer = document.getElementById('menuItems');
            menuContainer.innerHTML = '';
            
            menuItems.forEach(item => {
                // Check if this item has an active promotion
                let promoPrice = null;
                if (currentPromo && currentPromo.applyTo === item.id) {
                    promoPrice = item.price - (currentPromo.discount || 0);
                }
                
                const itemElement = document.createElement('div');
                itemElement.className = 'bg-gray-800 rounded-lg overflow-hidden border border-gray-700 hover:border-primary transition relative';
                itemElement.innerHTML = `
                    <div class="relative">
                        <img src="${item.image}" alt="${item.name}" class="w-full h-48 object-cover">
                        ${promoPrice ? `<span class="promo-badge bg-primary text-dark font-bold px-2 py-1 rounded text-xs">PROMO</span>` : ''}
                    </div>
                    <div class="p-4">
                        <h3 class="text-xl font-bold mb-2">${item.name}</h3>
                        <p class="text-gray-400 text-sm mb-4">${item.description}</p>
                        <div class="flex justify-between items-center">
                            <div>
                                ${promoPrice ? `
                                    <span class="text-gray-400 line-through text-sm">R$ ${item.price.toFixed(2)}</span>
                                    <span class="text-primary font-bold ml-2">R$ ${promoPrice.toFixed(2)}</span>
                                ` : `
                                    <span class="text-primary font-bold">R$ ${item.price.toFixed(2)}</span>
                                `}
                            </div>
                            <button onclick="addToCart(${item.id})" class="bg-primary hover:bg-orange-600 text-white px-3 py-1 rounded transition">
                                <i class="fas fa-plus"></i>
                            </button>
                        </div>
                    </div>
                `;
                
                menuContainer.appendChild(itemElement);
            });
        }
        
        // Filter menu items by category
        function filterMenuItems(category) {
            const allItems = document.querySelectorAll('#menuItems > div');
            
            allItems.forEach(item => {
                const itemCategory = menuItems.find(i => i.id === parseInt(item.getAttribute('data-id')))?.category;
                
                if (category === 'all' || itemCategory === category) {
                    item.classList.remove('hidden');
                } else {
                    item.classList.add('hidden');
                }
            });
        }
        
        // Add item to cart
        function addToCart(itemId) {
            if (storeStatus !== "online") {
                alert("Desculpe, estamos fechados no momento. Por favor, tente novamente mais tarde.");
                return;
            }
            
            const item = menuItems.find(i => i.id === itemId);
            if (!item) return;
            
            // Check if item already in cart
            const existingItem = cart.find(i => i.id === itemId);
            
            if (existingItem) {
                existingItem.quantity += 1;
            } else {
                // Check if this item has a promotion price
                let price = item.price;
                if (currentPromo && currentPromo.applyTo === item.id) {
                    price = item.price - (currentPromo.discount || 0);
                }
                
                cart.push({
                    id: item.id,
                    name: item.name,
                    price: price,
                    quantity: 1
                });
            }
            
            updateCartCount();
            saveCartToLocalStorage();
            openCart();
        }
        
        // Update cart count display
        function updateCartCount() {
            const count = cart.reduce((total, item) => total + item.quantity, 0);
            const cartCount = document.getElementById('cartCount');
            
            if (count > 0) {
                cartCount.textContent = count;
                cartCount.classList.remove('hidden');
            } else {
                cartCount.classList.add('hidden');
            }
            
            updateCartDisplay();
        }
        
        // Update cart display
        function updateCartDisplay() {
            const cartItemsContainer = document.getElementById('cartItems');
            const emptyCartMessage = document.getElementById('emptyCartMessage');
            const subtotalElement = document.getElementById('subtotal');
            const totalElement = document.getElementById('total');
            
            if (cart.length === 0) {
                emptyCartMessage.classList.remove('hidden');
                cartItemsContainer.innerHTML = '';
                subtotalElement.textContent = 'R$ 0,00';
                totalElement.textContent = `R$ ${deliveryFee.toFixed(2)}`;
                document.getElementById('customerInfo').classList.add('hidden');
                document.getElementById('checkoutBtn').textContent = 'Finalizar Pedido';
                document.getElementById('continueOrderBtn').classList.add('hidden');
                return;
            } else {
                emptyCartMessage.classList.add('hidden');
            }
            
            cartItemsContainer.innerHTML = '';
            
            let subtotal = 0;
            
            cart.forEach(item => {
                const itemTotal = item.price * item.quantity;
                subtotal += itemTotal;
                
                const itemElement = document.createElement('div');
                itemElement.className = 'flex justify-between items-center py-3 border-b border-gray-700';
                itemElement.innerHTML = `
                    <div>
                        <h4 class="font-medium">${item.name}</h4>
                        <p class="text-gray-400 text-sm">R$ ${item.price.toFixed(2)}</p>
                    </div>
                    <div class="flex items-center">
                        <button onclick="decreaseQuantity(${item.id})" class="bg-gray-700 hover:bg-gray-600 text-white w-8 h-8 rounded flex items-center justify-center">
                            <i class="fas fa-minus text-xs"></i>
                        </button>
                        <span class="mx-3">${item.quantity}</span>
                        <button onclick="increaseQuantity(${item.id})" class="bg-gray-700 hover:bg-gray-600 text-white w-8 h-8 rounded flex items-center justify-center">
                            <i class="fas fa-plus text-xs"></i>
                        </button>
                        <span class="ml-4 font-medium">R$ ${itemTotal.toFixed(2)}</span>
                    </div>
                `;
                
                cartItemsContainer.appendChild(itemElement);
            });
            
            subtotalElement.textContent = `R$ ${subtotal.toFixed(2)}`;
            const total = subtotal + deliveryFee;
            totalElement.textContent = `R$ ${total.toFixed(2)}`;
            
            // Show customer info if not already shown
            if (!document.getElementById('customerInfo').classList.contains('hidden')) {
                document.getElementById('continueOrderBtn').classList.remove('hidden');
                document.getElementById('checkoutBtn').textContent = 'Confirmar Pedido';
            }
        }
        
        // Increase item quantity in cart
        function increaseQuantity(itemId) {
            const item = cart.find(i => i.id === itemId);
            if (item) {
                item.quantity += 1;
                updateCartCount();
                saveCartToLocalStorage();
            }
        }
        
        // Decrease item quantity in cart
        function decreaseQuantity(itemId) {
            const itemIndex = cart.findIndex(i => i.id === itemId);
            if (itemIndex !== -1) {
                if (cart[itemIndex].quantity > 1) {
                    cart[itemIndex].quantity -= 1;
                } else {
                    cart.splice(itemIndex, 1);
                }
                updateCartCount();
                saveCartToLocalStorage();
            }
        }
        
        // Save cart to localStorage
        function saveCartToLocalStorage() {
            localStorage.setItem('mecdogCart', JSON.stringify(cart));
        }
        
        // Open cart sidebar
        function openCart() {
            document.getElementById('cartSidebar').classList.remove('translate-x-full');
            document.getElementById('overlay').classList.remove('hidden');
            document.body.classList.add('overflow-hidden');
        }
        
        // Close cart sidebar
        function closeCart() {
            document.getElementById('cartSidebar').classList.add('translate-x-full');
            document.getElementById('overlay').classList.add('hidden');
            document.body.classList.remove('overflow-hidden');
        }
        
        // Continue ordering (hide customer info)
        function continueOrder() {
            document.getElementById('customerInfo').classList.add('hidden');
            document.getElementById('continueOrderBtn').classList.add('hidden');
            document.getElementById('checkoutBtn').textContent = 'Finalizar Pedido';
        }
        
        // Checkout process
        function checkout() {
            if (cart.length === 0) return;
            
            const customerInfo = document.getElementById('customerInfo');
            
            if (customerInfo.classList.contains('hidden')) {
                // First step - show customer info
                customerInfo.classList.remove('hidden');
                document.getElementById('continueOrderBtn').classList.remove('hidden');
                document.getElementById('checkoutBtn').textContent = 'Confirmar Pedido';
            } else {
                // Second step - validate and send order
                const name = document.getElementById('customerName').value.trim();
                const address = document.getElementById('customerAddress').value.trim();
                const phone = document.getElementById('customerPhone').value.trim();
                const paymentMethod = document.getElementById('paymentMethod').value;
                const changeFor = document.getElementById('changeFor').value.trim();
                
                if (!name || !address || !phone) {
                    alert('Por favor, preencha todas as informações necessárias.');
                    return;
                }
                
                // Format phone number
                const formattedPhone = phone.replace(/\D/g, '');
                if (formattedPhone.length < 11) {
                    alert('Por favor, insira um número de telefone válido com DDD.');
                    return;
                }
                
                // Prepare order message
                let message = `*NOVO PEDIDO MECDOG*\n\n`;
                message += `*Cliente:* ${name}\n`;
                message += `*Endereço:* ${address}\n`;
                message += `*Telefone:* ${phone}\n\n`;
                message += `*Itens do pedido:*\n`;
                
                let subtotal = 0;
                cart.forEach(item => {
                    const itemTotal = item.price * item.quantity;
                    subtotal += itemTotal;
                    message += `- ${item.name} (${item.quantity}x) - R$ ${itemTotal.toFixed(2)}\n`;
                });
                
                const total = subtotal + deliveryFee;
                
                message += `\n*Subtotal:* R$ ${subtotal.toFixed(2)}\n`;
                message += `*Taxa de entrega:* R$ ${deliveryFee.toFixed(2)}\n`;
                message += `*Total:* R$ ${total.toFixed(2)}\n\n`;
                message += `*Forma de pagamento:* ${paymentMethod}\n`;
                
                if (paymentMethod === 'Dinheiro' && changeFor) {
                    message += `*Troco para:* R$ ${changeFor}\n`;
                }
                
                message += `\n*Status do pedido:* Novo`;
                
                // Encode message for WhatsApp URL
                const encodedMessage = encodeURIComponent(message);
                const whatsappUrl = `https://wa.me/5522992684136?text=${encodedMessage}`;
                
                // Open WhatsApp in new tab
                window.open(whatsappUrl, '_blank');
                
                // Show success modal
                document.getElementById('successModal').classList.remove('hidden');
                
                // Clear cart
                cart = [];
                updateCartCount();
                saveCartToLocalStorage();
                
                // Close cart
                closeCart();
                
                // Reset form
                document.getElementById('customerName').value = '';
                document.getElementById('customerAddress').value = '';
                document.getElementById('customerPhone').value = '';
                document.getElementById('paymentMethod').value = 'Dinheiro';
                document.getElementById('changeFor').value = '';
                document.getElementById('customerInfo').classList.add('hidden');
            }
        }
        
        // Close success modal
        function closeSuccessModal() {
            document.getElementById('successModal').classList.add('hidden');
        }
        
        // ADMIN FUNCTIONS
        
        // Check if admin is logged in
        function checkAdminStatus() {
            const adminPanel = document.getElementById('adminPanel');
            const adminBtn = document.getElementById('adminBtn');
            
            if (isAdminLoggedIn) {
                adminPanel.classList.remove('admin-panel');
                adminBtn.classList.add('hidden');
            } else {
                adminPanel.classList.add('admin-panel');
                adminBtn.classList.remove('hidden');
            }
        }
        
        // Show admin login modal
        function showAdminLogin() {
            document.getElementById('adminLoginModal').classList.remove('hidden');
        }
        
        // Close admin login modal
        function closeAdminLogin() {
            document.getElementById('adminLoginModal').classList.add('hidden');
            document.getElementById('adminPassword').value = '';
        }
        
        // Check admin password
        function checkAdminPassword() {
            const password = document.getElementById('adminPassword').value;
            
            if (password === 'admin7613') {
                isAdminLoggedIn = true;
                checkAdminStatus();
                closeAdminLogin();
                loadAdminPanel();
            } else {
                alert('Senha incorreta!');
            }
        }
        
        // Logout admin
        function logoutAdmin() {
            isAdminLoggedIn = false;
            checkAdminStatus();
            document.getElementById('adminPanelContent').innerHTML = '';
        }
        
        // Load admin panel content
        function loadAdminPanel() {
            const adminPanel = document.getElementById('adminPanel');
            
            const adminContent = document.createElement('div');
            adminContent.id = 'adminPanelContent';
            adminContent.className = 'container mx-auto mt-4';
            adminContent.innerHTML = `
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                    <!-- Status Control -->
                    <div class="bg-gray-800 p-4 rounded-lg">
                        <h3 class="text-lg font-bold mb-4 border-b border-gray-700 pb-2">Status da Loja</h3>
                        <div class="flex items-center mb-4">
                            <div class="mr-4">
                                <label class="inline-flex items-center">
                                    <input type="radio" name="storeStatus" value="online" ${storeStatus === 'online' ? 'checked' : ''} class="form-radio text-primary">
                                    <span class="ml-2">Online</span>
                                </label>
                            </div>
                            <div>
                                <label class="inline-flex items-center">
                                    <input type="radio" name="storeStatus" value="offline" ${storeStatus === 'offline' ? 'checked' : ''} class="form-radio text-primary">
                                    <span class="ml-2">Offline</span>
                                </label>
                            </div>
                        </div>
                        <button onclick="updateStoreStatus()" class="w-full bg-primary hover:bg-orange-600 text-white py-2 rounded">
                            Atualizar Status
                        </button>
                    </div>
                    
                    <!-- Delivery Fee -->
                    <div class="bg-gray-800 p-4 rounded-lg">
                        <h3 class="text-lg font-bold mb-4 border-b border-gray-700 pb-2">Taxa de Entrega</h3>
                        <div class="mb-4">
                            <label class="block text-gray-300 mb-2">Valor:</label>
                            <input type="number" id="newDeliveryFee" value="${deliveryFee}" step="0.01" min="0" class="w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded focus:outline-none focus:border-primary">
                        </div>
                        <button onclick="updateDeliveryFee()" class="w-full bg-primary hover:bg-orange-600 text-white py-2 rounded">
                            Atualizar Taxa
                        </button>
                    </div>
                    
                    <!-- Promotions -->
                    <div class="bg-gray-800 p-4 rounded-lg">
                        <h3 class="text-lg font-bold mb-4 border-b border-gray-700 pb-2">Promoções</h3>
                        <div class="mb-4">
                            <label class="block text-gray-300 mb-2">Selecione uma promoção:</label>
                            <select id="promoSelect" class="w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded focus:outline-none focus:border-primary">
                                <option value="">Nova Promoção</option>
                                ${promotions.map(promo => `
                                    <option value="${promo.id}">${promo.title}</option>
                                `).join('')}
                            </select>
                        </div>
                        <button onclick="loadPromoForm()" class="w-full bg-primary hover:bg-orange-600 text-white py-2 rounded mb-4">
                            Editar/Criar
                        </button>
                    </div>
                    
                    <!-- Menu Items -->
                    <div class="bg-gray-800 p-4 rounded-lg md:col-span-3">
                        <div class="flex justify-between items-center mb-4 border-b border-gray-700 pb-2">
                            <h3 class="text-lg font-bold">Itens do Cardápio</h3>
                            <button onclick="showAddItemForm()" class="bg-primary hover:bg-orange-600 text-white px-4 py-1 rounded">
                                <i class="fas fa-plus mr-1"></i> Adicionar Item
                            </button>
                        </div>
                        <div class="overflow-x-auto">
                            <table class="w-full">
                                <thead>
                                    <tr class="border-b border-gray-700">
                                        <th class="text-left py-2">Nome</th>
                                        <th class="text-left py-2">Categoria</th>
                                        <th class="text-left py-2">Preço</th>
                                        <th class="text-right py-2">Ações</th>
                                    </tr>
                                </thead>
                                <tbody id="menuItemsTable">
                                    <!-- Menu items will be loaded here -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
                
                <!-- Promo Form Modal -->
                <div id="promoFormModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
                    <div class="bg-gray-800 p-6 rounded-lg border border-primary max-w-md w-full">
                        <h3 class="text-xl font-bold text-primary mb-4" id="promoFormTitle">Nova Promoção</h3>
                        <div class="mb-4">
                            <label class="block text-gray-300 mb-2">Título:</label>
                            <input type="text" id="promoTitleInput" class="w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded focus:outline-none focus:border-primary">
                        </div>
                        <div class="mb-4">
                            <label class="block text-gray-300 mb-2">Descrição:</label>
                            <textarea id="promoDescriptionInput" class="w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded focus:outline-none focus:border-primary"></textarea>
                        </div>
                        <div class="mb-4">
                            <label class="block text-gray-300 mb-2">Dias da Semana:</label>
                            <div class="grid grid-cols-2 gap-2">
                                <label class="inline-flex items-center">
                                    <input type="checkbox" name="promoDays" value="0" class="form-checkbox text-primary">
                                    <span class="ml-2">Domingo</span>
                                </label>
                                <label class="inline-flex items-center">
                                    <input type="checkbox" name="promoDays" value="1" class="form-checkbox text-primary">
                                    <span class="ml-2">Segunda</span>
                                </label>
                                <label class="inline-flex items-center">
                                    <input type="checkbox" name="promoDays" value="2" class="form-checkbox text-primary">
                                    <span class="ml-2">Terça</span>
                                </label>
                                <label class="inline-flex items-center">
                                    <input type="checkbox" name="promoDays" value="3" class="form-checkbox text-primary">
                                    <span class="ml-2">Quarta</span>
                                </label>
                                <label class="inline-flex items-center">
                                    <input type="checkbox" name="promoDays" value="4" class="form-checkbox text-primary">
                                    <span class="ml-2">Quinta</span>
                                </label>
                                <label class="inline-flex items-center">
                                    <input type="checkbox" name="promoDays" value="5" class="form-checkbox text-primary">
                                    <span class="ml-2">Sexta</span>
                                </label>
                                <label class="inline-flex items-center">
                                    <input type="checkbox" name="promoDays" value="6" class="form-checkbox text-primary">
                                    <span class="ml-2">Sábado</span>
                                </label>
                            </div>
                        </div>
                        <div class="mb-4">
                            <label class="block text-gray-300 mb-2">Aplicar desconto a item específico?</label>
                            <select id="promoApplyTo" class="w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded focus:outline-none focus:border-primary">
                                <option value="">Não</option>
                                ${menuItems.map(item => `
                                    <option value="${item.id}">${item.name}</option>
                                `).join('')}
                            </select>
                        </div>
                        <div class="mb-4 hidden" id="promoDiscountField">
                            <label class="block text-gray-300 mb-2">Valor do desconto (R$):</label>
                            <input type="number" id="promoDiscount" step="0.01" min="0" class="w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded focus:outline-none focus:border-primary">
                        </div>
                        <div class="flex justify-between mt-6">
                            <button onclick="savePromotion()" class="bg-primary hover:bg-orange-600 text-white px-4 py-2 rounded">
                                Salvar
                            </button>
                            <button onclick="closePromoForm()" class="bg-gray-700 hover:bg-gray-600 text-white px-4 py-2 rounded">
                                Cancelar
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- Item Form Modal -->
                <div id="itemFormModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
                    <div class="bg-gray-800 p-6 rounded-lg border border-primary max-w-md w-full">
                        <h3 class="text-xl font-bold text-primary mb-4" id="itemFormTitle">Novo Item</h3>
                        <div class="mb-4">
                            <label class="block text-gray-300 mb-2">Nome:</label>
                            <input type="text" id="itemNameInput" class="w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded focus:outline-none focus:border-primary">
                        </div>
                        <div class="mb-4">
                            <label class="block text-gray-300 mb-2">Categoria:</label>
                            <select id="itemCategoryInput" class="w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded focus:outline-none focus:border-primary">
                                <option value="burgers">Hambúrgueres</option>
                                <option value="combos">Combos</option>
                                <option value="drinks">Bebidas</option>
                                <option value="extras">Acompanhamentos</option>
                            </select>
                        </div>
                        <div class="mb-4">
                            <label class="block text-gray-300 mb-2">Preço (R$):</label>
                            <input type="number" id="itemPriceInput" step="0.01" min="0" class="w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded focus:outline-none focus:border-primary">
                        </div>
                        <div class="mb-4">
                            <label class="block text-gray-300 mb-2">Descrição:</label>
                            <textarea id="itemDescriptionInput" class="w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded focus:outline-none focus:border-primary"></textarea>
                        </div>
                        <div class="mb-4">
                            <label class="block text-gray-300 mb-2">URL da Imagem:</label>
                            <input type="text" id="itemImageInput" class="w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded focus:outline-none focus:border-primary">
                        </div>
                        <input type="hidden" id="itemIdInput" value="">
                        <div class="flex justify-between mt-6">
                            <button onclick="saveMenuItem()" class="bg-primary hover:bg-orange-600 text-white px-4 py-2 rounded">
                                Salvar
                            </button>
                            <button onclick="closeItemForm()" class="bg-gray-700 hover:bg-gray-600 text-white px-4 py-2 rounded">
                                Cancelar
                            </button>
                            <button id="deleteItemBtn" onclick="deleteMenuItem()" class="bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded hidden">
                                Excluir
                            </button>
                        </div>
                    </div>
                </div>
            `;
            
            adminPanel.appendChild(adminContent);
            
            // Load menu items table
            loadMenuItemsTable();
            
            // Event listeners
            document.getElementById('promoApplyTo').addEventListener('change', function() {
                if (this.value) {
                    document.getElementById('promoDiscountField').classList.remove('hidden');
                } else {
                    document.getElementById('promoDiscountField').classList.add('hidden');
                }
            });
        }
        
        // Load menu items table
        function loadMenuItemsTable() {
            const tableBody = document.getElementById('menuItemsTable');
            tableBody.innerHTML = '';
            
            menuItems.forEach(item => {
                const row = document.createElement('tr');
                row.className = 'border-b border-gray-700';
                row.innerHTML = `
                    <td class="py-3">${item.name}</td>
                    <td class="py-3">
                        ${item.category === 'burgers' ? 'Hambúrgueres' : 
                          item.category === 'combos' ? 'Combos' : 
                          item.category === 'drinks' ? 'Bebidas' : 
                          'Acompanhamentos'}
                    </td>
                    <td class="py-3">R$ ${item.price.toFixed(2)}</td>
                    <td class="py-3 text-right">
                        <button onclick="editMenuItem(${item.id})" class="bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded mr-2">
                            <i class="fas fa-edit"></i>
                        </button>
                        <button onclick="confirmDeleteMenuItem(${item.id})" class="bg-red-600 hover:bg-red-700 text-white px-3 py-1 rounded">
                            <i class="fas fa-trash"></i>
                        </button>
                    </td>
                `;
                
                tableBody.appendChild(row);
            });
        }
        
        // Update store status
        function updateStoreStatus() {
            const selectedStatus = document.querySelector('input[name="storeStatus"]:checked').value;
            storeStatus = selectedStatus;
            localStorage.setItem('mecdogStatus', storeStatus);
            updateStatusDisplay();
            alert('Status atualizado com sucesso!');
        }
        
        // Update delivery fee
        function updateDeliveryFee() {
            const newFee = parseFloat(document.getElementById('newDeliveryFee').value);
            
            if (isNaN(newFee) || newFee < 0) {
                alert('Por favor, insira um valor válido para a taxa de entrega.');
                return;
            }
            
            deliveryFee = newFee;
            localStorage.setItem('mecdogDeliveryFee', deliveryFee.toString());
            document.getElementById('deliveryFee').textContent = `R$ ${deliveryFee.toFixed(2)}`;
            document.getElementById('cartDeliveryFee').textContent = `R$ ${deliveryFee.toFixed(2)}`;
            alert('Taxa de entrega atualizada com sucesso!');
        }
        
        // Load promo form
        function loadPromoForm() {
            const promoSelect = document.getElementById('promoSelect');
            const selectedPromoId = promoSelect.value;
            
            const promoFormModal = document.getElementById('promoFormModal');
            const promoFormTitle = document.getElementById('promoFormTitle');
            const promoTitleInput = document.getElementById('promoTitleInput');
            const promoDescriptionInput = document.getElementById('promoDescriptionInput');
            const promoApplyTo = document.getElementById('promoApplyTo');
            const promoDiscount = document.getElementById('promoDiscount');
            
            // Reset form
            promoTitleInput.value = '';
            promoDescriptionInput.value = '';
            promoApplyTo.value = '';
            promoDiscount.value = '';
            document.querySelectorAll('input[name="promoDays"]').forEach(checkbox => {
                checkbox.checked = false;
            });
            
            if (selectedPromoId) {
                // Editing existing promo
                const promo = promotions.find(p => p.id === parseInt(selectedPromoId));
                if (promo) {
                    promoFormTitle.textContent = 'Editar Promoção';
                    promoTitleInput.value = promo.title;
                    promoDescriptionInput.value = promo.description;
                    
                    // Check active days
                    promo.activeDays.forEach(day => {
                        document.querySelector(`input[name="promoDays"][value="${day}"]`).checked = true;
                    });
                    
                    // Set apply to and discount if exists
                    if (promo.applyTo) {
                        promoApplyTo.value = promo.applyTo;
                        promoDiscount.value = promo.discount || '';
                        document.getElementById('promoDiscountField').classList.remove('hidden');
                    }
                }
            } else {
                // Creating new promo
                promoFormTitle.textContent = 'Nova Promoção';
            }
            
            promoFormModal.classList.remove('hidden');
        }
        
        // Close promo form
        function closePromoForm() {
            document.getElementById('promoFormModal').classList.add('hidden');
        }
        
        // Save promotion
        function savePromotion() {
            const promoSelect = document.getElementById('promoSelect');
            const selectedPromoId = promoSelect.value;
            const promoTitle = document.getElementById('promoTitleInput').value.trim();
            const promoDescription = document.getElementById('promoDescriptionInput').value.trim();
            
            // Get selected days
            const selectedDays = [];
            document.querySelectorAll('input[name="promoDays"]:checked').forEach(checkbox => {
                selectedDays.push(parseInt(checkbox.value));
            });
            
            const applyTo = document.getElementById('promoApplyTo').value;
            const discount = applyTo ? parseFloat(document.getElementById('promoDiscount').value) : null;
            
            if (!promoTitle || !promoDescription || selectedDays.length === 0) {
                alert('Por favor, preencha todos os campos obrigatórios.');
                return;
            }
            
            if (applyTo && (isNaN(discount) || discount <= 0)) {
                alert('Por favor, insira um valor de desconto válido.');
                return;
            }
            
            if (selectedPromoId) {
                // Update existing promo
                const promoIndex = promotions.findIndex(p => p.id === parseInt(selectedPromoId));
                if (promoIndex !== -1) {
                    promotions[promoIndex] = {
                        ...promotions[promoIndex],
                        title: promoTitle,
                        description: promoDescription,
                        activeDays: selectedDays,
                        applyTo: applyTo || undefined,
                        discount: discount || undefined
                    };
                }
            } else {
                // Create new promo
                const newId = promotions.length > 0 ? Math.max(...promotions.map(p => p.id)) + 1 : 1;
                promotions.push({
                    id: newId,
                    title: promoTitle,
                    description: promoDescription,
                    activeDays: selectedDays,
                    active: false,
                    applyTo: applyTo || undefined,
                    discount: discount || undefined
                });
                
                // Add to select
                const option = document.createElement('option');
                option.value = newId;
                option.textContent = promoTitle;
                promoSelect.appendChild(option);
            }
            
            // Save to localStorage
            localStorage.setItem('mecdogPromotions', JSON.stringify(promotions));
            
            // Update display
            checkForPromotions();
            closePromoForm();
            alert('Promoção salva com sucesso!');
        }
        
        // Show add item form
        function showAddItemForm() {
            document.getElementById('itemFormTitle').textContent = 'Novo Item';
            document.getElementById('itemIdInput').value = '';
            document.getElementById('itemNameInput').value = '';
            document.getElementById('itemCategoryInput').value = 'burgers';
            document.getElementById('itemPriceInput').value = '';
            document.getElementById('itemDescriptionInput').value = '';
            document.getElementById('itemImageInput').value = '';
            document.getElementById('deleteItemBtn').classList.add('hidden');
            
            document.getElementById('itemFormModal').classList.remove('hidden');
        }
        
        // Edit menu item
        function editMenuItem(itemId) {
            const item = menuItems.find(i => i.id === itemId);
            if (!item) return;
            
            document.getElementById('itemFormTitle').textContent = 'Editar Item';
            document.getElementById('itemIdInput').value = item.id;
            document.getElementById('itemNameInput').value = item.name;
            document.getElementById('itemCategoryInput').value = item.category;
            document.getElementById('itemPriceInput').value = item.price;
            document.getElementById('itemDescriptionInput').value = item.description;
            document.getElementById('itemImageInput').value = item.image;
            document.getElementById('deleteItemBtn').classList.remove('hidden');
            
            document.getElementById('itemFormModal').classList.remove('hidden');
        }
        
        // Confirm delete menu item
        function confirmDeleteMenuItem(itemId) {
            if (confirm('Tem certeza que deseja excluir este item do cardápio?')) {
                deleteMenuItem(itemId);
            }
        }
        
        // Close item form
        function closeItemForm() {
            document.getElementById('itemFormModal').classList.add('hidden');
        }
        
        // Save menu item
        function saveMenuItem() {
            const itemId = document.getElementById('itemIdInput').value;
            const name = document.getElementById('itemNameInput').value.trim();
            const category = document.getElementById('itemCategoryInput').value;
            const price = parseFloat(document.getElementById('itemPriceInput').value);
            const description = document.getElementById('itemDescriptionInput').value.trim();
            const image = document.getElementById('itemImageInput').value.trim();
            
            if (!name || isNaN(price) || price <= 0 || !description || !image) {
                alert('Por favor, preencha todos os campos obrigatórios.');
                return;
            }
            
            if (itemId) {
                // Update existing item
                const itemIndex = menuItems.findIndex(i => i.id === parseInt(itemId));
                if (itemIndex !== -1) {
                    menuItems[itemIndex] = {
                        ...menuItems[itemIndex],
                        name,
                        category,
                        price,
                        description,
                        image
                    };
                }
            } else {
                // Create new item
                const newId = menuItems.length > 0 ? Math.max(...menuItems.map(i => i.id)) + 1 : 1;
                menuItems.push({
                    id: newId,
                    name,
                    category,
                    price,
                    description,
                    image
                });
            }
            
            // Save to localStorage
            localStorage.setItem('mecdogMenuItems', JSON.stringify(menuItems));
            
            // Update display
            loadMenuItems();
            loadMenuItemsTable();
            closeItemForm();
            alert('Item salvo com sucesso!');
        }
        
        // Delete menu item
        function deleteMenuItem(itemId) {
            if (!itemId) {
                itemId = document.getElementById('itemIdInput').value;
            }
            
            const itemIndex = menuItems.findIndex(i => i.id === parseInt(itemId));
            if (itemIndex !== -1) {
                menuItems.splice(itemIndex, 1);
                
                // Save to localStorage
                localStorage.setItem('mecdogMenuItems', JSON.stringify(menuItems));
                
                // Update display
                loadMenuItems();
                loadMenuItemsTable();
                closeItemForm();
                alert('Item excluído com sucesso!');
            }
        }
    </script>
</body>
</html>